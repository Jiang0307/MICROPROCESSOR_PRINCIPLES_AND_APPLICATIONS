LIST p=18f4520
#include <p18f4520.inc>
	CONFIG OSC = INTIO67 
	CONFIG WDT = OFF 
	org 0x10 

INITIAL:
    CLRF TRISA
    MOVLW D'5'
    MOVFF WREG,TRISB
    MOVLW D'3'
    MOVFF WREG,TRISC
    
    MOVLW D'4'
    MOVFF WREG,TRISD ;counter
    CLRF WREG

LOOP:
    BTFSC TRISC,0
    GOTO ADD
    GOTO SHIFT
    ADD:
	MOVFF TRISB,WREG
	ADDWF TRISA,F
	GOTO SHIFT
	
    SHIFT:
	BCF STATUS,C
	RLCF TRISB
	BCF STATUS,C
	RRCF TRISC
	
	DECF TRISD
	BNZ LOOP
	GOTO TERMINATE
	
TERMINATE: 
    END 